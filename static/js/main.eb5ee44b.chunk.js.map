{"version":3,"sources":["components/utils/styles.module.css","components/Components/Searchbar/Searchbar.js","components/utils/key.js","components/utils/image-api.js","components/Components/Modal/Modal.js","components/Components/ImageGallery/ImageGalleryItem/ImageGalleryItem.js","components/Components/ImageGallery/ImageGallery.js","components/Components/Button/Button.js","components/Components/Loader/Loader.js","components/GalleryContainer/GalleryContainer.js","components/App.js","index.js"],"names":["module","exports","Searchbar","onChangeQuery","useState","query","setQuery","reset","className","s","SearchForm","onSubmit","e","preventDefault","type","autoComplete","autoFocus","placeholder","onChange","q","target","value","KEY","get","a","page","axios","data","hits","Modal","closeModal","children","escCloseModal","key","useEffect","window","addEventListener","removeEventListener","styles","Overlay","onClick","nodeName","ImageGalleryItem","url","alt","largeImageURL","isModalOpen","setIsModalOpen","src","ImageGallery","gallery","map","imageSize","webformatURL","tags","Button","pageChanger","LoaderSection","Loader","color","height","width","GalleryContainer","setGallery","setPage","isLoading","setIsLoading","error","setError","request","prevArray","fetchRequest","length","prevPage","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"yFACAA,EAAOC,QAAU,CAAC,IAAM,oBAAoB,UAAY,0BAA0B,WAAa,2BAA2B,oBAAoB,kCAAkC,0BAA0B,wCAAwC,mBAAmB,iCAAiC,aAAe,6BAA6B,iBAAmB,iCAAiC,yBAAyB,uCAAuC,QAAU,wBAAwB,MAAQ,sBAAsB,OAAS,uBAAuB,OAAS,yB,yICgDhiBC,MA5Cf,YAAuC,IAAlBC,EAAiB,EAAjBA,cAAiB,EACVC,mBAAS,IADC,mBAC7BC,EAD6B,KACtBC,EADsB,KAc9BC,EAAQ,WACZD,EAAS,KAEX,OACE,mCACE,wBAAQE,UAAWC,IAAEP,UAArB,SACE,uBAAMM,UAAWC,IAAEC,WAAYC,SAZhB,SAAAC,GACnBA,EAAEC,iBACFV,EAAcE,GACdE,KASI,UACE,wBAAQO,KAAK,SAASN,UAAWC,IAAE,qBAAnC,SACE,sBAAMD,UAAWC,IAAE,2BAAnB,sBAGF,uBACED,UAAWC,IAAE,oBACbK,KAAK,OACLC,aAAa,MACbC,WAAS,EACTC,YAAY,2BACZC,SA5BW,SAAAN,GACnB,IAAMO,EAAIP,EAAEQ,OAAOC,MACnBf,EAASa,IA2BDE,MAAOhB,YCpCJiB,EADH,qC,iBCUGC,EAPN,uCAAG,WAAOlB,GAAP,+BAAAmB,EAAA,6DAAcC,EAAd,+BAAqB,EAArB,SACaC,IAAMH,IAAN,qCACSlB,EADT,iBACuBoB,EADvB,gBACmCH,EADnC,yDADb,uBACFK,EADE,EACFA,KADE,kBAIHA,EAAKC,MAJF,2CAAH,sDCmCMC,MAlCf,YAA0C,IAAzBC,EAAwB,EAAxBA,WAAYC,EAAY,EAAZA,SAQrBC,EAAgB,SAAApB,GACN,WAAVA,EAAEqB,KAGNH,KAUF,OAPAI,qBAAU,WAER,OADAC,OAAOC,iBAAiB,UAAWJ,GAC5B,WACLG,OAAOE,oBAAoB,UAAWL,OAKxC,qBAAKxB,UAAW8B,IAAOC,QAASC,QAtBX,SAAA5B,GACK,QAAtBA,EAAEQ,OAAOqB,UAGbX,KAkBA,SACE,qBAAKtB,UAAW8B,IAAOT,MAAvB,SACE,mCAAGE,SCKIW,MA7Bf,YAAwD,IAA5BC,EAA2B,EAA3BA,IAAKC,EAAsB,EAAtBA,IAAKC,EAAiB,EAAjBA,cAAiB,EACfzC,oBAAS,GADM,mBAC9C0C,EAD8C,KACjCC,EADiC,KAMrD,OACE,qBAAIvC,UAAW8B,IAAOI,iBAAtB,UACE,qBACEM,IAAKL,EACLC,IAAKA,EACLpC,UAAW8B,IAAO,0BAClBE,QATY,kBAAMO,GAAe,MAWlCD,GACC,cAAC,EAAD,CAAOhB,WAXM,kBAAMiB,GAAe,IAWlC,SACE,qBAAKC,IAAKH,EAAeD,IAAKA,UCWzBK,MA5Bf,YAAoC,IAAZC,EAAW,EAAXA,QACtB,OACE,mCACE,oBAAI1C,UAAWC,IAAEwC,aAAjB,SACGC,EAAQC,KAAI,gBAAGC,EAAH,EAAGA,UAAWC,EAAd,EAAcA,aAAcR,EAA5B,EAA4BA,cAAeS,EAA3C,EAA2CA,KAA3C,OACX,cAAC,EAAD,CAEEX,IAAKU,EACLT,IAAKU,EACLT,cAAeA,GAHVO,WCKFG,MAZf,YAAkC,IAAhBC,EAAe,EAAfA,YAChB,OACE,wBAAQ1C,KAAK,SAASN,UAAWC,IAAE8C,OAAQf,QAASgB,EAApD,wB,uBCQWC,MARf,WACE,OACE,qBAAKjD,UAAWC,IAAEiD,OAAlB,SACE,cAAC,IAAD,CAAQ5C,KAAK,OAAO6C,MAAM,UAAUC,OAAQ,IAAKC,MAAO,SC8C/CC,MA9Cf,WAA6B,IAAD,EACI1D,mBAAS,IADb,mBACnB8C,EADmB,KACVa,EADU,OAEA3D,mBAAS,IAFT,mBAEnBC,EAFmB,KAEZC,EAFY,OAGFF,mBAAS,GAHP,mBAGnBqB,EAHmB,KAGbuC,EAHa,OAIQ5D,oBAAS,GAJjB,mBAInB6D,EAJmB,KAIRC,EAJQ,OAKA9D,oBAAS,GALT,mBAKnB+D,EALmB,KAKZC,EALY,KAgC1B,OAnBAlC,qBAAU,WAAM,4CACd,4BAAAV,EAAA,sEAEI0C,GAAa,GAFjB,SAG0B3C,EAAIlB,EAAOoB,GAHrC,OAGU4C,EAHV,OAIIN,GAAW,SAAAO,GAAS,4BAAQA,GAAR,YAAsBD,OAJ9C,gDAMID,GAAS,GANb,yBAQIF,GAAa,GARjB,6EADc,sBAYV7D,GAZW,WAAD,wBAYHkE,KACV,CAAC9C,EAAMpB,IAOR,qCACE,cAAC,EAAD,CAAWF,cA3BO,SAAAE,GACpBC,EAASD,GACT2D,EAAQ,GACRD,EAAW,OAyBRI,GAAS,yEACPjB,EAAQsB,SAAWL,GACpB,qCACE,cAAC,EAAD,CAAcjB,QAASA,KACrBe,GAAa,cAAC,EAAD,CAAQT,YAXX,WAClBQ,GAAQ,SAAAS,GAAQ,OAAIA,EAAW,WAa5BR,GAAa,cAACP,EAAD,QC3CLgB,MAJf,WACE,OAAO,cAAC,EAAD,KCATC,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,W","file":"static/js/main.eb5ee44b.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"styles_App__19gjT\",\"Searchbar\":\"styles_Searchbar__S70Bl\",\"SearchForm\":\"styles_SearchForm__2pEFI\",\"SearchForm-button\":\"styles_SearchForm-button__U5FrP\",\"SearchForm-button-label\":\"styles_SearchForm-button-label__33ogU\",\"SearchForm-input\":\"styles_SearchForm-input__3BHkU\",\"ImageGallery\":\"styles_ImageGallery__2dS-k\",\"ImageGalleryItem\":\"styles_ImageGalleryItem__3_YAJ\",\"ImageGalleryItem-image\":\"styles_ImageGalleryItem-image__GUn2N\",\"Overlay\":\"styles_Overlay__ajEj0\",\"Modal\":\"styles_Modal__3YA26\",\"Button\":\"styles_Button__1cnAs\",\"Loader\":\"styles_Loader__AMS9f\"};","import { useState } from 'react';\r\n\r\nimport s from '../../utils/styles.module.css';\r\nimport PropTypes from 'prop-types';\r\n\r\nfunction Searchbar({ onChangeQuery }) {\r\n  const [query, setQuery] = useState('');\r\n\r\n  const handleChange = e => {\r\n    const q = e.target.value;\r\n    setQuery(q);\r\n  };\r\n\r\n  const handleSubmit = e => {\r\n    e.preventDefault();\r\n    onChangeQuery(query);\r\n    reset();\r\n  };\r\n\r\n  const reset = () => {\r\n    setQuery('');\r\n  };\r\n  return (\r\n    <>\r\n      <header className={s.Searchbar}>\r\n        <form className={s.SearchForm} onSubmit={handleSubmit}>\r\n          <button type=\"submit\" className={s['SearchForm-button']}>\r\n            <span className={s['SearchForm-button-label']}>Search</span>\r\n          </button>\r\n\r\n          <input\r\n            className={s['SearchForm-input']}\r\n            type=\"text\"\r\n            autoComplete=\"off\"\r\n            autoFocus\r\n            placeholder=\"Search images and photos\"\r\n            onChange={handleChange}\r\n            value={query}\r\n          />\r\n        </form>\r\n      </header>\r\n    </>\r\n  );\r\n}\r\n\r\nSearchbar.propTypes = {\r\n  onChangeQuery: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default Searchbar;\r\n","const KEY = '19030410-2c5fe4ac9573efb3689b839da';\r\nexport default KEY;\r\n","import KEY from './key';\r\nimport axios from 'axios';\r\n\r\nconst get = async (query, page = 1) => {\r\n  const { data } = await axios.get(\r\n    `https://pixabay.com/api/?q=${query}&page=${page}&key=${KEY}&image_type=photo&orientation=horizontal&per_page=10`,\r\n  );\r\n  return data.hits;\r\n};\r\n\r\nexport default get;\r\n","import React, { useEffect } from 'react';\r\nimport styles from '../../utils/styles.module.css';\r\nimport PropTypes from 'prop-types';\r\n\r\nfunction Modal({ closeModal, children }) {\r\n  const modalCloseFunc = e => {\r\n    if (e.target.nodeName === 'IMG') {\r\n      return;\r\n    }\r\n    closeModal();\r\n  };\r\n\r\n  const escCloseModal = e => {\r\n    if (e.key !== 'Escape') {\r\n      return;\r\n    }\r\n    closeModal();\r\n  };\r\n\r\n  useEffect(() => {\r\n    window.addEventListener('keydown', escCloseModal);\r\n    return () => {\r\n      window.removeEventListener('keydown', escCloseModal);\r\n    };\r\n  });\r\n\r\n  return (\r\n    <div className={styles.Overlay} onClick={modalCloseFunc}>\r\n      <div className={styles.Modal}>\r\n        <>{children}</>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\nModal.propTypes = {\r\n  closeModal: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default Modal;\r\n","import React, { useState } from 'react';\r\nimport styles from '../../../utils/styles.module.css';\r\nimport Modal from '../../Modal/Modal';\r\nimport PropTypes from 'prop-types';\r\n\r\nfunction ImageGalleryItem({ url, alt, largeImageURL }) {\r\n  const [isModalOpen, setIsModalOpen] = useState(false);\r\n\r\n  const openModal = () => setIsModalOpen(true);\r\n  const closeModal = () => setIsModalOpen(false);\r\n\r\n  return (\r\n    <li className={styles.ImageGalleryItem}>\r\n      <img\r\n        src={url}\r\n        alt={alt}\r\n        className={styles['ImageGalleryItem-image']}\r\n        onClick={openModal}\r\n      />\r\n      {isModalOpen && (\r\n        <Modal closeModal={closeModal}>\r\n          <img src={largeImageURL} alt={alt} />\r\n        </Modal>\r\n      )}\r\n    </li>\r\n  );\r\n}\r\n\r\nImageGalleryItem.propTypes = {\r\n  url: PropTypes.string.isRequired,\r\n  alt: PropTypes.string.isRequired,\r\n  largeImageURL: PropTypes.string.isRequired,\r\n};\r\n\r\nexport default ImageGalleryItem;\r\n","import ImageGalleryItem from './ImageGalleryItem/ImageGalleryItem';\r\nimport s from '../../utils/styles.module.css';\r\nimport PropTypes from 'prop-types';\r\n\r\nfunction ImageGallery({ gallery }) {\r\n  return (\r\n    <>\r\n      <ul className={s.ImageGallery}>\r\n        {gallery.map(({ imageSize, webformatURL, largeImageURL, tags }) => (\r\n          <ImageGalleryItem\r\n            key={imageSize}\r\n            url={webformatURL}\r\n            alt={tags}\r\n            largeImageURL={largeImageURL}\r\n          />\r\n        ))}\r\n      </ul>\r\n    </>\r\n  );\r\n}\r\n\r\nImageGallery.propTypes = {\r\n  gallery: PropTypes.arrayOf(\r\n    PropTypes.shape({\r\n      id: PropTypes.number.isRequired,\r\n      webformatURL: PropTypes.string.isRequired,\r\n      largeImageURL: PropTypes.string.isRequired,\r\n      tags: PropTypes.string.isRequired,\r\n    }),\r\n  ).isRequired,\r\n};\r\n\r\nexport default ImageGallery;\r\n","import s from '../../utils/styles.module.css';\r\nimport PropTypes from 'prop-types';\r\n\r\nfunction Button({ pageChanger }) {\r\n  return (\r\n    <button type=\"button\" className={s.Button} onClick={pageChanger}>\r\n      Load more\r\n    </button>\r\n  );\r\n}\r\n\r\nButton.propTypes = {\r\n  pageChanger: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default Button;\r\n","import Loader from 'react-loader-spinner';\r\n\r\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\r\nimport s from '../../utils/styles.module.css';\r\n\r\nfunction LoaderSection() {\r\n  return (\r\n    <div className={s.Loader}>\r\n      <Loader type=\"Puff\" color=\"#00BFFF\" height={100} width={100} />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default LoaderSection;\r\n","import { useState, useEffect } from 'react';\r\nimport Searchbar from '../Components/Searchbar/Searchbar';\r\nimport get from '../utils/image-api';\r\nimport ImageGallery from '../Components/ImageGallery/ImageGallery';\r\nimport Button from '../Components/Button/Button';\r\n\r\nimport LoaderSection from '../Components/Loader/Loader';\r\n\r\nfunction GalleryContainer() {\r\n  const [gallery, setGallery] = useState([]);\r\n  const [query, setQuery] = useState('');\r\n  const [page, setPage] = useState(1);\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [error, setError] = useState(false);\r\n\r\n  const onChangeQuery = query => {\r\n    setQuery(query);\r\n    setPage(1);\r\n    setGallery([]);\r\n  };\r\n\r\n  useEffect(() => {\r\n    async function fetchRequest() {\r\n      try {\r\n        setIsLoading(true);\r\n        const request = await get(query, page);\r\n        setGallery(prevArray => [...prevArray, ...request]);\r\n      } catch (error) {\r\n        setError(true);\r\n      } finally {\r\n        setIsLoading(false);\r\n      }\r\n    }\r\n    if (query) fetchRequest();\r\n  }, [page, query]);\r\n\r\n  const pageChanger = () => {\r\n    setPage(prevPage => prevPage + 1);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Searchbar onChangeQuery={onChangeQuery} />\r\n      {error && <h1>something gone wrong, try again later</h1>}\r\n      {!!gallery.length && !error && (\r\n        <>\r\n          <ImageGallery gallery={gallery} />\r\n          {!isLoading && <Button pageChanger={pageChanger} />}\r\n        </>\r\n      )}\r\n      {isLoading && <LoaderSection />}\r\n    </>\r\n  );\r\n}\r\nexport default GalleryContainer;\r\n","import React from 'react';\r\nimport GalleryContainer from './GalleryContainer/GalleryContainer';\r\n\r\nfunction App() {\r\n  return <GalleryContainer />;\r\n}\r\n\r\nexport default App;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport App from \"./components/App\";\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById(\"root\")\r\n);\r\n"],"sourceRoot":""}